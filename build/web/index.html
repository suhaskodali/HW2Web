<!-- Author: Suhas Kodali
     What? : This file uses AJAX to show user how many times they voted and how many times all users voted
             Additionally, it redirects to my StartServletPage when the hyperlinked is clicked
     Date  : October 6, 2018
    
-->

<!DOCTYPE html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <title>Index page</title>
        <script type="text/javascript">        
            var xmlhttp;
            function LookUp() {
                if (window.XMLHttpRequest){
                    // code for IE7+, Firefox, Chrome, Opera, Safari
                    xmlhttp=new XMLHttpRequest();
                }else{
                    xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
                }

                var url = "indexServlet";
                
                xmlhttp.open("GET", url, true);
                xmlhttp.onreadystatechange = callback;
                xmlhttp.send();

                
            }
            
            function callback(){
                if (xmlhttp.readyState == 4) {
                    if (xmlhttp.status == 200) {
                        document.getElementById("results").innerHTML=xmlhttp.responseText;
                    }
                }
            }
            
        </script>
    </head>
    <body>
        <a href="/P2Kodali/StartPageServlet">See voting results</a>
        </br>
        </br>
        
        <input type="button" value="My votes" onClick="LookUp();"/>
        <div id="results">
        </div>
            


        
        
    </body>
</html>

